Forge Beta: ##-##-2012 ver 1.2.# rev #####

(Quest icons used created by Teekatas, from his Legendora set http://raindropmemory.deviantart.com)

#### cards in total.


A new branch was created for supporting "Produced$ Any" in mana abilities (Issue 266). Some other bugs/problems with paying mana costs were uncovered and fixed. This work was recently merged into the main trunk.

A new Scriptable Replacement Effects system has been recently added to the SVN. The structure is very similar to Triggers (So there's currently a little code duplication), there is a Handler class, a base class for Replacement effects and subclasses for each event that can be replaced.


Several people have noticed a crash report stating that "Buffers have not been created". We hope to have this fixed in the near future. It has been pointed out that:

"Parts of Swing use EventQueue by themselves, this means your Swing code executes in main thread part executes in EDT and as Swing isn't thread safe this leads to elusive errors like this. One of the reasons of this error is that the frame might not be fully constructed before buffers are created -> race condition between the threads."

Several people have noticed forge slowing down after playing a number of matches without quitting forge in between the matches that are played. The new UI may be involved somehow. We also hope to have this figured out and fixed in the near future. Please be patient in the meanwhile. A recent fix was implemented that should improve the slowdown problem somewhat.

A lot of time and effort have gone into fixing the memory leak problems that were recently noticed and reported to the dev team. Doublestrike and Slapshot deserve our applause and we are very thankful. People should be able to now play long multi match sessions without noticing slow downs and pauses.


The Forge archive includes a readme.txt file and we ask that you spend a few minutes reading this file as it contains some information that may prove usefull. We do tend to update this file at times and you should quickly read this file and look for new information for each and every new release. Thank you.

We have changed the archival format used for the Forge distributions from ".zip" to ".tar.bz2". There are utilities for Windows, Mac OS and the various *nix's that can be used to decompress these ".tar.bz2" archives. We recommend that you decompress the Forge archive into a new and unused folder.


Fixes/Features:

- Cleared out the changes.txt file, is ready for new material.
- A few CheckStyle fixes.
- Issue 266: Creating branch for changes for supporting "Produced$ Any" in mana abilities
- Issue 266: added to manamorphose to produce any mana branch
- Issue 266: update isBasic method of AbilityMana to account for any mana
- Renamed the Ore Gorger card txt file as it had an unneeded space character.
- Issue 266: significantly reworked logic in payManaCost to account for mana sources that produce any color and several other bugs
- Issue 266: modified City of Brass, Glimmervoid, and Mox Opal to use "Produced$ Any"
- Issue 266: merged trunk:12895-12901 revisions into branch
- Issue 266: modified to account for lands that use "Produced$ Any"
- Issue 266: modified to allow reflected mana to interact with any color sources
- Issue 266: removed getManaProduced overrides from spells and drawbacks
- Warren Instigator was missing the Berseker type
- use constants to show Tabber tabs instead of just using raw numbers everywhere.
- Fixing Description of Skyrider Trainee
- if things on the stack have a sourceCard of some kind of land, make sure the stack has a color (brownish; also used for artifacts). This would be for things like the triggered ability of City of Brass.
- Added a fluff piece to the changes.txt file.
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- fix ability cost of Flame Elemental (thanks squee1968)
- fix missing subability of Green Sun's Zenith (thanks squee1968)
- gave Soaratmi Savant Flying (thanks squee1968)
- restored the functionality to show Stack cards in Card Picture/Detail when moused over. This functionality was present in 1.1.8, but was removed in 1.2.0 due to a bug. I confirmed the bug was also present in 1.1.8, so we are no worse off than we were before and there have been complaints on the forum about this in the 1.2.0 UI.
- in DigUntil resolve, game cannot continue if revealed is empty. This is fixed.
- add 10E SetInfo to Counsel of the Soratami
- Issue 266: add color choice logic for future use by AI
- fix typo in Tourach's Gate
- Issue 266: changed sorting of mana sources to account of any color mana
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- Issue 266: add logic to make ManaNeededToAvoidNegativeEffect mana a mandatory part of the cost for the AI
- Removing hardcoded references to Mana Pool as a card.
- Checkstyle
- merged "Produced$ Any" (Issue 266) feature branch into trunk (Issue #266)
- Converted City of Brass, Glimmervoid, and Mox Opal to use "Any" mana keyword. Added Manamorphose
- Added scriptable Replacement Effects. The system and syntax is very similar to the trigger system.For examples see the cards below or the forge.card.replacement package.
- Converted to script:
Benevolent Unicorn
Boon Reflection
Divine Presence
Dralnu, Lich Lord
Fire Servant
Forethought Amulet
Furnace of Rath
Gratuitous Violence
Lashknife Barrier
Lichentrope
Phytohydra
Pyromancer's Swath
Sulfuric Vapors
Sulfuric Vortex
- Corrected name of Akki Lavarunner / Tok-Tok, Volcano Born
- Added a fluff piece to the changes.txt file.
- Checkstyle.
- Coldsteel Heart is now a Snow Artifact.
- convert cards to any mana keyword (A-B)
- convert cards to any mana keyword (C-F)
- convert cards to any mana keyword (G-K)
- convert cards to any mana keyword (L-M)
- convert cards to any mana keyword (N-R)
- Fixed Remember syntax for Wormfang Behemoth.
- Make sure to actually run replacement effect checks for creature damage.
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- Consolidated ReplacementEffect.matchesValid() and Trigger.matchesValid() (Exactly the same method) into AllZoneUtil.matchesValid().
- Fixed description for Vigor.
- CheckStyle.
- CheckStyle.
- Updated Furnace Dragon and Iname as One to check for 'cast from hand' restriction.
- Ran Oracle and set info scripts.
- CheckStyle.
- checkstyle
- checkstyle
- Add package javadoc
- Meet George. George is a base class for Triggers and ReplacementEffects. George is content with his job.
- convert cards to any mana keyword (S-T)
- convert cards to any mana keyword (U-Z)
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- fix an observer leak on InputControl
- checkstyle and javadoc fixes
- PMD fixes
- Added CheckThirdSVar and CheckFourthSVar and accompanying parameters to StaticAbility.
- Added the recent commit logs to changes.txt.
- Checkstyle: Removed trailing spaces from new CheckSVars
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- Fixed Minion Reflector.
- GUI - remove anything that was checking the unused Constant.Runtime.OLDGUI
- little javadoc fixes in DeckEditorDraft
- delte the GuiDisplay class. It is no longer used.
- fix the Observers leak on MagicStack
- Stack Instance not resetting Paid Hash before setting new one
- gut the OldGuiNewGame class. It now contains only static elements related to preferences and loading dynamic game data (which needs to be moved to a different class)
- fix Hurkyl's Recall (looks like the Java code inadvertently got deleted)
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- delete MenuItemHowToPlay (it is no longer used)
- consolidate deleteObservers in a deinitMatch method. Hooked this method up in the WinLoseFrame and QuestWinLoseHandler.
- update some Magic Numbers to constants
- delete file GuiHomeScreen.java (it is no longer used)
- update another Magic Number to constant
- move loadDynamicGameData to Main
- fix value setting when CardSize radio buttons are selected.
- remove references to OldGuiNewGame
- delete OldGuiNewGame
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- more magic number converted to constants in ControlAllUI
- remove unused function in GuiDisplayUtil
- Fixed the AI not playing card draw spells, even when the resulting number of cards in hand is lower than 8 cards (it was not considering losing the card used).
- Fixed Dream Fighter.
- Fixed Graven Dominator.
- Little tweak in gainLifeCanPlayAI.
- Updated evaluateCreature.
- Little tweaks for the Da Vinci decks.
- Fixed two scripts.
- Added some AI checks to make better use of Steel Overseer.
- Added RemAIDeck:True to Orzhov Pontiff.
- ran Oracle and Setinfo scripts
- fixed remove counter trigger on Witherscale Wurm
- Fixed Vodalian Illusionist.
- Fixed Predatory Urge.
- Added the prefix "SVar$" to xCount (formerly only available in AbilityFactory.calculateAmount).
- Fixed another issue with Conclave's Blessing.
- Fixed the discarded list of CostDiscard containing all cards twice if the mode is Self, LastDrawn or Random (the cards are added to the list in doDiscard).
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- Added the options "LifeYouLostThisTurn" and "LifeOppLostThisTurn" to xCount.
- Added four missing set infos.
- Converted the replacement ability of Lich to script.
- add a Storm counter to the Players panel
- Fix Furnace of Rath
- Added Undying keyword.
- Added Fateful Hour to Count$ (Count$FatefulHour.<Truevalue>.<Falsevalue>) and as a condition to Static Abilities (FatefulHour$ True).
- Added Count$<Your/Opp>StartingLife.
- Added FatefulHour trigger parameter.
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- CheckStyle.
- Minor card text fix for Gibbering Descent.
- Continuous static abilities with "RemoveAllAbilities" will now also remove replacement abilities.
- Ran Oracle and setInfo scripts
- Added Damia, Sage of Stone to relevant section in PhaseUtil.java. (I initially thought the draw skip was Keyworded due to Psychic Possession script)
- Updated two SVars.
- creating branch for Dark Ascension pre-release scripts
- Bugfix: "ghost animation" for cards in hand after starting a new game
- Improved the AI of Echoing Decay.
- Updated some SVars.
- Ran set info script.
- Ran oracle script.
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- Fixed Chancellor of the Dross.
- Fixed Chancellor of the Forge.
- Fixed Chancellor of the Tangle.
- delete unused class ConstantStringHashMap
- javadoc and comment fixes in Upkeep.java
- flesh out javadoc in Untap.java
- flesh out javadoc in EndCombat.java
- Little card script updates.
- Fixed Convoke throwing an error when no creature has been tapped.
- Fixed icon display in player fields for quest and regular match play.
- added EYEBALL to counters enumeration list
- fixing Quest and regular match player avatars. Please be careful to not hard-code Windows-specific things.
- fix some code that was OS-specific in DeckLister.java
- move some code to EndOfTurn and flesh out javadoc in EndOfTurn.java
- adding EnchantedBy check to Player.hasProperty method
- added STRIFE to counters enum list
- updated Daybreak Coronet to use the more general AttachedTo. Removed "AllAurasEnchanting" from CardFactoryUtil.xCount method.
- DKA branch: Updated Falkenrath Aristocrat to use ConditionCheckSVar, and added rarity info to some of the scripts.
- Improved scripts for Ebon Praetor and for Lyzolda, the Blood Witch
- Added wasCastFrom<Zone> card property. It is set when the card is moved to the stack and cleared whenever it is moved anywhere else except from the stack to the battlefield(for Myojins,Phage,Iname, Epochrasite etc...)
- Added wasNotCastFrom<Zone> as well, doi.
- Added Count$wasCastFrom<Zone>.<truevalue>.<falsevalue>
- Converted:
Burning Vengeance
Coal Stoker
Dread Cacodemon
Furnace Dragon
Hypnox
Iname as One
Myojin of Cleansing Fire
Myojin of Infinite Rage
Myojin of Life's Web
Myojin of Night's Reach
Myojin of Seeing Winds
Reiver Demon
- Added Rebound keyword.
- Fixed wasCastFrom's interaction with tokens.
- Fixed visual artifacts bug on semi-transparent buttons and panels in home screen.
- Fixed name (Nomad's Assembly -> Nomads' Assembly)
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- Updated two SVars.
- Updated two SVars (main branch).
- Removed Sudden Spoiling because it was not 100% functional.
- CheckStyle.
- Added the Dr Fate 3 deck.
- Made Keldon Marauders more AI friendly.
- Fixed Mishra, Artificer Prodigy.
- Fixed casting cost on Faithless Looting.
- Added a spell description field to the CostChange keyword. Converted a few CostChange cards.
- Refactored ForgePreferences:
1) Output file entries sorted
2) Easier to add/remove prefs
3) Checkstyled and commented
4) LOC halved
- Streamlined old, overly explicit phase toggles in ForgePreferences.
- Small update to ForgePreferences.
- Minor update to ViewField.
- Removed internal padding on card picture in match UI.
- Fixed "no human first turn phase indicator" bug.
- Minor update to keyboard shortcut saving in dock.
- Fixed "must restart for dev mode setting" and similar bugs.
- modifications to allow cards that transform to Auras to attach to a target.
- Moved ability description into keyword for Glowrider and Thorn of Amethyst
- If using Alternate-state scripting to create a non-doublefaced, non-flip card (i.e. Licids), use "AlternateMode:<name of other state>" then use AF_SetState's NewState parameter with that name. This is to avoid things confusing them with actual doublefaced cards.
- Added start button and logo to image sprites in each skin, and updated FSkin and home screen code to match.
- reduce JTextArea instances in ViewTabber
- Run static abilities-check after running static triggers but before regular triggers. Fixes Adaptive Automaton+Champion of the Parish type situations. With thanks to Sloth!
- Let the Deck Editor cope with cards with non-flip, non-doubleface alternate states. (i.e. those damn Licids)
- further reduce JTextArea instances in ViewTabber (for Combat descriptions)
- Minor bugfix in ForgePreferences.
- Bugfix to the bugfix in ForgePreferences.
- Ran oracle script.
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- Fixed AI of Copy Artifact and Sculpting Steel.
- Added a check in checkStateEffects for creatures enchanting something, making them fall off properly. (Licids! *shakes fist*)
- CheckStyle.
- Fixed Wormfang Behemoth.
- Added the player keyword "Skip your draw step." and converted some cards to use it.
- Memory management debugging in ViewTabber: cleared list of JTextAreas in stack panel to prevent pileups.
- udpate guava to 11.0.1 (it has some cache fixes that may affect ImageCache)
- Uploaded quest opponent avatar: Beast. Added to quest-opponent-icons.txt
- Uncommented download link for Tatsumasa, the Dragon's Fang token.
- Updated the deck editor color filter icons.
- try to clean up IMAGE_CACHE at the end of each match. This may help with large memory usage after many matches.
- Fixed bug preventing full texture paint on keyboard shortcuts screen.
- Added Attach Drawback. Removed previous changes for Auras in SetState AF.
- updated Soul Seizer script to Attach drawback
- Updated quest opponent avatar links.
- Added a fluff piece to the changes.txt file.
- Added the Darkseid 3 deck.
- Added the recent commit logs to changes.txt.
- Fixed creatures with Deathtouch destroying creatures and dealing damage afterwards.
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- clean up a Java warning in AFSetState
- remove some debug code related to Observers
- Improved the AI of AF DestroyAll to take permanents with SacMe SVar into account.
- Changed the default value of "ui.card.overlay" to true.
- Added trigger mode "Transformed".
- Hardcoded Sky Swallower will now give away other cards, not self.
- Fixed Undead Alchemist
- Update SubAbility for a few of my favorite cards (SVar= is not needed and has not been needed for a long time.)
- Started adding doTrigger functions to Spell AF's, because canPlayAI is not suited for cases like a spell revealed by a Cascade ability. First AF to test this is AF DealDamage.
- Added the ability to get LKI copies of a certain state. Fixes Unholy Fiend triggering Village Cannibals and maybe more.
- Cards should never be tapped outside the battlefield.
- Added trap type to Arrow Volley Trap
- Added canPlayFromEffectAI function.
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.


Added pre-release cards to DKA cardfolder branch:

Gather the Townsfolk
Ravenous Demon // Archdemon of Greed
Faithless Looting
Mondronen Shaman // Tovolar's Magehunter
Strangleroot Geist
Thraben Doomsayer
Nearheath Stalker
Zombie Apocalypse
Chalice of Life // Chalice of Death
Gravecrawler
Hunger of the Howlpack
Jar of Eyeballs
Ghoultree
Drogskol Reaver
Curse of Thirst
Falkenrath Aristocrat
Increasing Devotion
Scorned Villager // Moonscarred Werewolf
Secrets of the Dead
Moonveil Dragon
Sorin, Lord of Innistrad
Increasing Confusion
Loyal Cathar // Unhallowed Cathar
Soul Seizer // Ghastly Haunting
Thalia, Guardian of Thraben
Lambholt Elder // Silverpelt Werewolf
Beguiler of Wills
Huntmaster of the Fells // Ravager of the Fells


Many people helped with this version. A special thank you goes out to them. (Attempted to list names alphabetically):




Added many cards, including:

Karona, False God
Akki Lavarunner // Tok-Tok, Volcano-born
Laboratory Maniac
Obstinate Familiar
Pursuit of Knowledge
Thought Reflection
Undead Alchemist
Vigor
Coal Stoker
Dread Cacodemon
Hypnox
Reiver Demon
Myojin of Cleansing Fire
Myojin of Infinite Rage
Myojin of Life's Web
Myojin of Night's Reach
Myojin of Seeing Winds
Deepwood Legate
Sivvi's Ruse
Qasali Ambusher
Carrion Beetles
Rag Dealer
Caterwauling Boggart
Coalition Relic
Quirion Sentinel
Terrarion
Children of Korlis
Bloodchief Ascension
Luminarch Ascension
Sygg, River Cutthroat
Tainted Sigil
Wound Reflection
Sages of the Anima
Tomorrow, Azami's Familiar
Sudden Spoiling
Damia, Sage of Stone
Verdant Embrace
Hoarding Dragon
Hedron-Field Purists
Crescendo of War
Cast Through Time
Consuming Vapors
Distortion Strike
Emerge Unscathed
Nomads' Assembly
Prey's Vengeance
Staggershock
Surreal Memoir
Survival Cache
Virulent Swipe
Phage the Untouchable
Harmonic Sliver
Mesmeric Sliver
Gravity Well
Clash of Realities
Telekinesis
Rapid Fire


end
